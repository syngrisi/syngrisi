// Generated from: features/DEMO/bugfixes_demo.feature
import { test } from "../../../support/fixtures/index.ts";

test.describe('Demo: Bug Fixes - Regions and Accept Icon', () => {

  test.beforeEach('Background', async ({ When, appServer, page, testData }, testInfo) => { if (testInfo.error) return;
    await When('I open the app', null, { appServer, page, testData }); 
    await When('I clear local storage', null, { page }); 
  });
  
  test('Demo: Regions persistence after page refresh', { tag: ['@demo'] }, async ({ Given, When, Then, appServer, page, testData }) => { 
    await Given('I create "1" tests with:', {"docString":{"content":"    testName: RegionsDemo\n    checks:\n      - checkName: DemoCheck\n        filePath: files/A.png"}}, { appServer, testData }); 
    await When('I accept via http the 1st check with name "DemoCheck"', null, { appServer, testData }); 
    await Given('I create "1" tests with:', {"docString":{"content":"    testName: RegionsDemo\n    checks:\n      - checkName: DemoCheck\n        filePath: files/A.png"}}, { appServer, testData }); 
    await When('I go to "main" page', null, { appServer, page }); 
    await When('I unfold the test "RegionsDemo"', null, { page, testData }); 
    await When('I announce: "Добро пожаловать! Эта демонстрация показывает исправление сохранения ignore-регионов после перезагрузки страницы."', null, { page }); 
    await When('I highlight element "[data-test-preview-image=\'DemoCheck\']"', null, { page }); 
    await When('I announce: "Откроем детали проверки, кликнув на превью изображения."', null, { page }); 
    await When('I click element with locator "[data-test-preview-image=\'DemoCheck\']"', null, { page, testData }); 
    await When('I wait 10 seconds for the element with locator "[data-check-header-name=\'DemoCheck\']" to be visible', null, { page, testData }); 
    await When('I clear highlight', null, { page }); 
    await When('I highlight element "[data-check-status-name=\'DemoCheck\']"', null, { page }); 
    await When('I announce: "Это проверка со статусом PASSED - мы можем добавить к ней ignore-регионы."', null, { page }); 
    await When('I clear highlight', null, { page }); 
    await When('I repeat javascript code until stored "js" string equals "ready":', {"docString":{"content":"if (typeof mainView === 'undefined' || !mainView.canvas || !mainView.canvas.getObjects) return \"loading\";\nconst btn = document.querySelector('[data-check=\"add-ignore-region\"]');\nif (btn && (btn.disabled || btn.hasAttribute('disabled'))) return \"loading\";\nreturn \"ready\";"}}, { page, testData }); 
    await When('I execute javascript code:', {"docString":{"content":"return(mainView.allRects.length.toString());"}}, { page, testData }); 
    await Then('I expect the stored "js" string is equal:', {"docString":{"content":"0"}}, { testData }); 
    await When('I highlight element "[data-check=\'add-ignore-region\']"', null, { page }); 
    await When('I announce: "Нажимаю кнопку \'Add Ignore Region\' - регион создаётся автоматически."', null, { page }); 
    await When('I wait 1 seconds', null, { page, testData }); 
    await When('I click element with locator "[data-check=\'add-ignore-region\']"', null, { page, testData }); 
    await When('I clear highlight', null, { page }); 
    await When('I repeat javascript code until stored "js" string equals "1":', {"docString":{"content":"if (typeof mainView === 'undefined' || !mainView.allRects) return \"loading\";\nreturn (mainView.allRects.length.toString());"}}, { page, testData }); 
    await When('I announce: "Регион создан! Видите розовый прямоугольник на канвасе."', null, { page }); 
    await When('I highlight element "[data-check=\'save-ignore-region\']"', null, { page }); 
    await When('I announce: "Теперь сохраним регион в baseline, нажав кнопку Save."', null, { page }); 
    await When('I click element with locator "[data-check=\'save-ignore-region\']"', null, { page, testData }); 
    await When('I clear highlight', null, { page }); 
    await When('I announce: "Регион сохранён! Ключевой фикс - регионы теперь получают правильное свойство \'name\'."', null, { page }); 
    await When('I announce: "А теперь критический тест - перезагружаем страницу и проверяем, что регионы сохранились..."', null, { page }); 
    await When('I refresh page', null, { page }); 
    await When('I wait 10 seconds for the element with locator "[data-check-header-name=\'DemoCheck\']" to be visible', null, { page, testData }); 
    await When('I repeat javascript code until stored "js" string equals "1":', {"docString":{"content":"if (typeof mainView === 'undefined' || !mainView.allRects) return \"loading\";\nreturn (mainView.allRects.length.toString());"}}, { page, testData }); 
    await When('I highlight element "canvas"', null, { page }); 
    await When('I announce: "УСПЕХ! Регион сохранился после перезагрузки страницы. Это был баг, который мы исправили!"', null, { page }); 
    await When('I clear highlight', null, { page }); 
    await When('I announce: "Исправление гарантирует, что при загрузке регионов с сервера они получают имя \'ignore_rect\', поэтому попадают в коллекцию allRects."', null, { page }); 
    await When('I announce: "Демонстрация завершена! Регионы теперь корректно сохраняются между перезагрузками страницы."', null, { page }); 
    await When('I end the demo', null, { page }); 
  });

  test('Demo: Accept Icon loading state fix', { tag: ['@demo'] }, async ({ Given, When, Then, appServer, page, testData }) => { 
    await Given('I create "1" tests with:', {"docString":{"content":"    testName: AcceptIconDemo\n    checks:\n      - checkName: IconCheck\n        filePath: files/A.png"}}, { appServer, testData }); 
    await When('I go to "main" page', null, { appServer, page }); 
    await When('I unfold the test "AcceptIconDemo"', null, { page, testData }); 
    await When('I announce: "Эта демонстрация показывает исправление видимости иконки Accept во время состояния загрузки."', null, { page }); 
    await When('I click element with locator "[data-test-preview-image=\'IconCheck\']"', null, { page, testData }); 
    await When('I wait 10 seconds for the element with locator "[data-check-header-name=\'IconCheck\']" to be visible', null, { page, testData }); 
    await When('I announce: "Иконка Accept в тулбаре теперь имеет атрибут data-loading для корректного определения состояния."', null, { page }); 
    await When('I wait 10 seconds for the element with locator "[data-check=\'toolbar\'] [data-test=\'check-accept-icon\'][data-popover-icon-name=\'IconCheck\'][data-loading=\'false\']" to be visible', null, { page, testData }); 
    await When('I highlight element "[data-check=\'toolbar\'] [data-test=\'check-accept-icon\'][data-popover-icon-name=\'IconCheck\']"', null, { page }); 
    await When('I announce: "Иконка видна с data-loading=\'false\'. SVG доступен для проверки."', null, { page }); 
    await When('I wait 10 seconds for the element with locator "[data-check=\'toolbar\'] [data-test=\'check-accept-icon\'][data-popover-icon-name=\'IconCheck\'] svg" to be visible', null, { page, testData }); 
    await When('I announce: "SVG иконка видна и может быть проверена. Раньше она была скрыта во время загрузки."', null, { page }); 
    await When('I clear highlight', null, { page }); 
    await When('I highlight element "[data-check=\'toolbar\']"', null, { page }); 
    await When('I announce: "Мы также исправили селектор, добавив область toolbar, чтобы избежать конфликтов с панелью Related Checks."', null, { page }); 
    await When('I clear highlight', null, { page }); 
    await When('I announce: "Давайте примем эту проверку и убедимся, что иконка обновляется корректно."', null, { page }); 
    await When('I accept via http the 1st check with name "IconCheck"', null, { appServer, testData }); 
    await When('I refresh page', null, { page }); 
    await When('I wait 10 seconds for the element with locator "[data-check=\'toolbar\'] [data-test=\'check-accept-icon\'][data-popover-icon-name=\'IconCheck\'][data-loading=\'false\']" to be visible', null, { page, testData }); 
    await When('I highlight element "[data-check=\'toolbar\'] [data-test=\'check-accept-icon\'][data-popover-icon-name=\'IconCheck\']"', null, { page }); 
    await Then('the element with locator "[data-check=\'toolbar\'] [data-test=\'check-accept-icon\'][data-popover-icon-name=\'IconCheck\'] svg" should have has attribute "data-test-icon-type=fill"', null, { page }); 
    await When('I announce: "УСПЕХ! Иконка изменилась на заполненную после принятия, и мы можем надёжно это определить."', null, { page }); 
    await When('I clear highlight', null, { page }); 
    await When('I announce: "Демонстрация завершена! Иконка Accept теперь корректно показывает своё состояние загрузки для надёжного тестирования."', null, { page }); 
    await When('I end the demo', null, { page }); 
  });

});

// == technical section ==

test.use({
  $test: [({}, use) => use(test), { scope: 'test', box: true }],
  $uri: [({}, use) => use('features/DEMO/bugfixes_demo.feature'), { scope: 'test', box: true }],
  $bddFileData: [({}, use) => use(bddFileData), { scope: "test", box: true }],
});

const bddFileData = [ // bdd-data-start
  {"pwTestLine":11,"pickleLine":9,"tags":["@demo"],"steps":[{"pwStepLine":7,"gherkinStepLine":5,"keywordType":"Action","textWithKeyword":"When I open the app","isBg":true,"stepMatchArguments":[]},{"pwStepLine":8,"gherkinStepLine":6,"keywordType":"Action","textWithKeyword":"When I clear local storage","isBg":true,"stepMatchArguments":[]},{"pwStepLine":12,"gherkinStepLine":11,"keywordType":"Context","textWithKeyword":"Given I create \"1\" tests with:","stepMatchArguments":[{"group":{"start":9,"value":"\"1\"","children":[{"start":10,"value":"1","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":13,"gherkinStepLine":18,"keywordType":"Action","textWithKeyword":"When I accept via http the 1st check with name \"DemoCheck\"","stepMatchArguments":[{"group":{"start":22,"value":"1st","children":[]},"parameterTypeName":"ordinal"},{"group":{"start":42,"value":"\"DemoCheck\"","children":[{"start":43,"value":"DemoCheck","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":14,"gherkinStepLine":19,"keywordType":"Context","textWithKeyword":"Given I create \"1\" tests with:","stepMatchArguments":[{"group":{"start":9,"value":"\"1\"","children":[{"start":10,"value":"1","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":15,"gherkinStepLine":27,"keywordType":"Action","textWithKeyword":"When I go to \"main\" page","stepMatchArguments":[{"group":{"start":8,"value":"\"main\"","children":[{"start":9,"value":"main","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":16,"gherkinStepLine":28,"keywordType":"Action","textWithKeyword":"When I unfold the test \"RegionsDemo\"","stepMatchArguments":[{"group":{"start":18,"value":"\"RegionsDemo\"","children":[{"start":19,"value":"RegionsDemo","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":17,"gherkinStepLine":31,"keywordType":"Action","textWithKeyword":"When I announce: \"Добро пожаловать! Эта демонстрация показывает исправление сохранения ignore-регионов после перезагрузки страницы.\"","stepMatchArguments":[{"group":{"start":12,"value":"\"Добро пожаловать! Эта демонстрация показывает исправление сохранения ignore-регионов после перезагрузки страницы.\"","children":[{"start":13,"value":"Добро пожаловать! Эта демонстрация показывает исправление сохранения ignore-регионов после перезагрузки страницы.","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":18,"gherkinStepLine":34,"keywordType":"Action","textWithKeyword":"When I highlight element \"[data-test-preview-image='DemoCheck']\"","stepMatchArguments":[{"group":{"start":20,"value":"\"[data-test-preview-image='DemoCheck']\"","children":[{"start":21,"value":"[data-test-preview-image='DemoCheck']","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":19,"gherkinStepLine":35,"keywordType":"Action","textWithKeyword":"When I announce: \"Откроем детали проверки, кликнув на превью изображения.\"","stepMatchArguments":[{"group":{"start":12,"value":"\"Откроем детали проверки, кликнув на превью изображения.\"","children":[{"start":13,"value":"Откроем детали проверки, кликнув на превью изображения.","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":20,"gherkinStepLine":36,"keywordType":"Action","textWithKeyword":"When I click element with locator \"[data-test-preview-image='DemoCheck']\"","stepMatchArguments":[{"group":{"start":21,"value":"locator","children":[]},"parameterTypeName":"target"},{"group":{"start":29,"value":"\"[data-test-preview-image='DemoCheck']\"","children":[{"start":30,"value":"[data-test-preview-image='DemoCheck']","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":21,"gherkinStepLine":37,"keywordType":"Action","textWithKeyword":"When I wait 10 seconds for the element with locator \"[data-check-header-name='DemoCheck']\" to be visible","stepMatchArguments":[{"group":{"start":7,"value":"10","children":[]},"parameterTypeName":"int"},{"group":{"start":26,"value":"element","children":[]},"parameterTypeName":"role"},{"group":{"start":39,"value":"locator","children":[]},"parameterTypeName":"attribute"},{"group":{"start":47,"value":"\"[data-check-header-name='DemoCheck']\"","children":[{"start":48,"value":"[data-check-header-name='DemoCheck']","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":92,"value":"visible","children":[]},"parameterTypeName":"condition"}]},{"pwStepLine":22,"gherkinStepLine":38,"keywordType":"Action","textWithKeyword":"When I clear highlight","stepMatchArguments":[]},{"pwStepLine":23,"gherkinStepLine":41,"keywordType":"Action","textWithKeyword":"When I highlight element \"[data-check-status-name='DemoCheck']\"","stepMatchArguments":[{"group":{"start":20,"value":"\"[data-check-status-name='DemoCheck']\"","children":[{"start":21,"value":"[data-check-status-name='DemoCheck']","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":24,"gherkinStepLine":42,"keywordType":"Action","textWithKeyword":"When I announce: \"Это проверка со статусом PASSED - мы можем добавить к ней ignore-регионы.\"","stepMatchArguments":[{"group":{"start":12,"value":"\"Это проверка со статусом PASSED - мы можем добавить к ней ignore-регионы.\"","children":[{"start":13,"value":"Это проверка со статусом PASSED - мы можем добавить к ней ignore-регионы.","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":25,"gherkinStepLine":43,"keywordType":"Action","textWithKeyword":"When I clear highlight","stepMatchArguments":[]},{"pwStepLine":26,"gherkinStepLine":46,"keywordType":"Action","textWithKeyword":"When I repeat javascript code until stored \"js\" string equals \"ready\":","stepMatchArguments":[{"group":{"start":38,"value":"\"js\"","children":[{"start":39,"value":"js","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":57,"value":"\"ready\"","children":[{"start":58,"value":"ready","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":27,"gherkinStepLine":55,"keywordType":"Action","textWithKeyword":"When I execute javascript code:","stepMatchArguments":[]},{"pwStepLine":28,"gherkinStepLine":59,"keywordType":"Outcome","textWithKeyword":"Then I expect the stored \"js\" string is equal:","stepMatchArguments":[{"group":{"start":20,"value":"\"js\"","children":[{"start":21,"value":"js","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":29,"gherkinStepLine":65,"keywordType":"Action","textWithKeyword":"When I highlight element \"[data-check='add-ignore-region']\"","stepMatchArguments":[{"group":{"start":20,"value":"\"[data-check='add-ignore-region']\"","children":[{"start":21,"value":"[data-check='add-ignore-region']","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":30,"gherkinStepLine":66,"keywordType":"Action","textWithKeyword":"When I announce: \"Нажимаю кнопку 'Add Ignore Region' - регион создаётся автоматически.\"","stepMatchArguments":[{"group":{"start":12,"value":"\"Нажимаю кнопку 'Add Ignore Region' - регион создаётся автоматически.\"","children":[{"start":13,"value":"Нажимаю кнопку 'Add Ignore Region' - регион создаётся автоматически.","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":31,"gherkinStepLine":67,"keywordType":"Action","textWithKeyword":"When I wait 1 seconds","stepMatchArguments":[{"group":{"start":7,"value":"1","children":[]}}]},{"pwStepLine":32,"gherkinStepLine":68,"keywordType":"Action","textWithKeyword":"When I click element with locator \"[data-check='add-ignore-region']\"","stepMatchArguments":[{"group":{"start":21,"value":"locator","children":[]},"parameterTypeName":"target"},{"group":{"start":29,"value":"\"[data-check='add-ignore-region']\"","children":[{"start":30,"value":"[data-check='add-ignore-region']","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":33,"gherkinStepLine":69,"keywordType":"Action","textWithKeyword":"When I clear highlight","stepMatchArguments":[]},{"pwStepLine":34,"gherkinStepLine":72,"keywordType":"Action","textWithKeyword":"When I repeat javascript code until stored \"js\" string equals \"1\":","stepMatchArguments":[{"group":{"start":38,"value":"\"js\"","children":[{"start":39,"value":"js","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":57,"value":"\"1\"","children":[{"start":58,"value":"1","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":35,"gherkinStepLine":77,"keywordType":"Action","textWithKeyword":"When I announce: \"Регион создан! Видите розовый прямоугольник на канвасе.\"","stepMatchArguments":[{"group":{"start":12,"value":"\"Регион создан! Видите розовый прямоугольник на канвасе.\"","children":[{"start":13,"value":"Регион создан! Видите розовый прямоугольник на канвасе.","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":36,"gherkinStepLine":80,"keywordType":"Action","textWithKeyword":"When I highlight element \"[data-check='save-ignore-region']\"","stepMatchArguments":[{"group":{"start":20,"value":"\"[data-check='save-ignore-region']\"","children":[{"start":21,"value":"[data-check='save-ignore-region']","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":37,"gherkinStepLine":81,"keywordType":"Action","textWithKeyword":"When I announce: \"Теперь сохраним регион в baseline, нажав кнопку Save.\"","stepMatchArguments":[{"group":{"start":12,"value":"\"Теперь сохраним регион в baseline, нажав кнопку Save.\"","children":[{"start":13,"value":"Теперь сохраним регион в baseline, нажав кнопку Save.","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":38,"gherkinStepLine":82,"keywordType":"Action","textWithKeyword":"When I click element with locator \"[data-check='save-ignore-region']\"","stepMatchArguments":[{"group":{"start":21,"value":"locator","children":[]},"parameterTypeName":"target"},{"group":{"start":29,"value":"\"[data-check='save-ignore-region']\"","children":[{"start":30,"value":"[data-check='save-ignore-region']","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":39,"gherkinStepLine":83,"keywordType":"Action","textWithKeyword":"When I clear highlight","stepMatchArguments":[]},{"pwStepLine":40,"gherkinStepLine":85,"keywordType":"Action","textWithKeyword":"When I announce: \"Регион сохранён! Ключевой фикс - регионы теперь получают правильное свойство 'name'.\"","stepMatchArguments":[{"group":{"start":12,"value":"\"Регион сохранён! Ключевой фикс - регионы теперь получают правильное свойство 'name'.\"","children":[{"start":13,"value":"Регион сохранён! Ключевой фикс - регионы теперь получают правильное свойство 'name'.","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":41,"gherkinStepLine":88,"keywordType":"Action","textWithKeyword":"When I announce: \"А теперь критический тест - перезагружаем страницу и проверяем, что регионы сохранились...\"","stepMatchArguments":[{"group":{"start":12,"value":"\"А теперь критический тест - перезагружаем страницу и проверяем, что регионы сохранились...\"","children":[{"start":13,"value":"А теперь критический тест - перезагружаем страницу и проверяем, что регионы сохранились...","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":42,"gherkinStepLine":89,"keywordType":"Action","textWithKeyword":"When I refresh page","stepMatchArguments":[]},{"pwStepLine":43,"gherkinStepLine":90,"keywordType":"Action","textWithKeyword":"When I wait 10 seconds for the element with locator \"[data-check-header-name='DemoCheck']\" to be visible","stepMatchArguments":[{"group":{"start":7,"value":"10","children":[]},"parameterTypeName":"int"},{"group":{"start":26,"value":"element","children":[]},"parameterTypeName":"role"},{"group":{"start":39,"value":"locator","children":[]},"parameterTypeName":"attribute"},{"group":{"start":47,"value":"\"[data-check-header-name='DemoCheck']\"","children":[{"start":48,"value":"[data-check-header-name='DemoCheck']","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":92,"value":"visible","children":[]},"parameterTypeName":"condition"}]},{"pwStepLine":44,"gherkinStepLine":93,"keywordType":"Action","textWithKeyword":"When I repeat javascript code until stored \"js\" string equals \"1\":","stepMatchArguments":[{"group":{"start":38,"value":"\"js\"","children":[{"start":39,"value":"js","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":57,"value":"\"1\"","children":[{"start":58,"value":"1","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":45,"gherkinStepLine":99,"keywordType":"Action","textWithKeyword":"When I highlight element \"canvas\"","stepMatchArguments":[{"group":{"start":20,"value":"\"canvas\"","children":[{"start":21,"value":"canvas","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":46,"gherkinStepLine":100,"keywordType":"Action","textWithKeyword":"When I announce: \"УСПЕХ! Регион сохранился после перезагрузки страницы. Это был баг, который мы исправили!\"","stepMatchArguments":[{"group":{"start":12,"value":"\"УСПЕХ! Регион сохранился после перезагрузки страницы. Это был баг, который мы исправили!\"","children":[{"start":13,"value":"УСПЕХ! Регион сохранился после перезагрузки страницы. Это был баг, который мы исправили!","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":47,"gherkinStepLine":101,"keywordType":"Action","textWithKeyword":"When I clear highlight","stepMatchArguments":[]},{"pwStepLine":48,"gherkinStepLine":104,"keywordType":"Action","textWithKeyword":"When I announce: \"Исправление гарантирует, что при загрузке регионов с сервера они получают имя 'ignore_rect', поэтому попадают в коллекцию allRects.\"","stepMatchArguments":[{"group":{"start":12,"value":"\"Исправление гарантирует, что при загрузке регионов с сервера они получают имя 'ignore_rect', поэтому попадают в коллекцию allRects.\"","children":[{"start":13,"value":"Исправление гарантирует, что при загрузке регионов с сервера они получают имя 'ignore_rect', поэтому попадают в коллекцию allRects.","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":49,"gherkinStepLine":107,"keywordType":"Action","textWithKeyword":"When I announce: \"Демонстрация завершена! Регионы теперь корректно сохраняются между перезагрузками страницы.\"","stepMatchArguments":[{"group":{"start":12,"value":"\"Демонстрация завершена! Регионы теперь корректно сохраняются между перезагрузками страницы.\"","children":[{"start":13,"value":"Демонстрация завершена! Регионы теперь корректно сохраняются между перезагрузками страницы.","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":50,"gherkinStepLine":108,"keywordType":"Action","textWithKeyword":"When I end the demo","stepMatchArguments":[]}]},
  {"pwTestLine":53,"pickleLine":112,"tags":["@demo"],"steps":[{"pwStepLine":7,"gherkinStepLine":5,"keywordType":"Action","textWithKeyword":"When I open the app","isBg":true,"stepMatchArguments":[]},{"pwStepLine":8,"gherkinStepLine":6,"keywordType":"Action","textWithKeyword":"When I clear local storage","isBg":true,"stepMatchArguments":[]},{"pwStepLine":54,"gherkinStepLine":114,"keywordType":"Context","textWithKeyword":"Given I create \"1\" tests with:","stepMatchArguments":[{"group":{"start":9,"value":"\"1\"","children":[{"start":10,"value":"1","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":55,"gherkinStepLine":122,"keywordType":"Action","textWithKeyword":"When I go to \"main\" page","stepMatchArguments":[{"group":{"start":8,"value":"\"main\"","children":[{"start":9,"value":"main","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":56,"gherkinStepLine":123,"keywordType":"Action","textWithKeyword":"When I unfold the test \"AcceptIconDemo\"","stepMatchArguments":[{"group":{"start":18,"value":"\"AcceptIconDemo\"","children":[{"start":19,"value":"AcceptIconDemo","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":57,"gherkinStepLine":126,"keywordType":"Action","textWithKeyword":"When I announce: \"Эта демонстрация показывает исправление видимости иконки Accept во время состояния загрузки.\"","stepMatchArguments":[{"group":{"start":12,"value":"\"Эта демонстрация показывает исправление видимости иконки Accept во время состояния загрузки.\"","children":[{"start":13,"value":"Эта демонстрация показывает исправление видимости иконки Accept во время состояния загрузки.","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":58,"gherkinStepLine":129,"keywordType":"Action","textWithKeyword":"When I click element with locator \"[data-test-preview-image='IconCheck']\"","stepMatchArguments":[{"group":{"start":21,"value":"locator","children":[]},"parameterTypeName":"target"},{"group":{"start":29,"value":"\"[data-test-preview-image='IconCheck']\"","children":[{"start":30,"value":"[data-test-preview-image='IconCheck']","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":59,"gherkinStepLine":130,"keywordType":"Action","textWithKeyword":"When I wait 10 seconds for the element with locator \"[data-check-header-name='IconCheck']\" to be visible","stepMatchArguments":[{"group":{"start":7,"value":"10","children":[]},"parameterTypeName":"int"},{"group":{"start":26,"value":"element","children":[]},"parameterTypeName":"role"},{"group":{"start":39,"value":"locator","children":[]},"parameterTypeName":"attribute"},{"group":{"start":47,"value":"\"[data-check-header-name='IconCheck']\"","children":[{"start":48,"value":"[data-check-header-name='IconCheck']","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":92,"value":"visible","children":[]},"parameterTypeName":"condition"}]},{"pwStepLine":60,"gherkinStepLine":133,"keywordType":"Action","textWithKeyword":"When I announce: \"Иконка Accept в тулбаре теперь имеет атрибут data-loading для корректного определения состояния.\"","stepMatchArguments":[{"group":{"start":12,"value":"\"Иконка Accept в тулбаре теперь имеет атрибут data-loading для корректного определения состояния.\"","children":[{"start":13,"value":"Иконка Accept в тулбаре теперь имеет атрибут data-loading для корректного определения состояния.","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":61,"gherkinStepLine":136,"keywordType":"Action","textWithKeyword":"When I wait 10 seconds for the element with locator \"[data-check='toolbar'] [data-test='check-accept-icon'][data-popover-icon-name='IconCheck'][data-loading='false']\" to be visible","stepMatchArguments":[{"group":{"start":7,"value":"10","children":[]},"parameterTypeName":"int"},{"group":{"start":26,"value":"element","children":[]},"parameterTypeName":"role"},{"group":{"start":39,"value":"locator","children":[]},"parameterTypeName":"attribute"},{"group":{"start":47,"value":"\"[data-check='toolbar'] [data-test='check-accept-icon'][data-popover-icon-name='IconCheck'][data-loading='false']\"","children":[{"start":48,"value":"[data-check='toolbar'] [data-test='check-accept-icon'][data-popover-icon-name='IconCheck'][data-loading='false']","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":168,"value":"visible","children":[]},"parameterTypeName":"condition"}]},{"pwStepLine":62,"gherkinStepLine":137,"keywordType":"Action","textWithKeyword":"When I highlight element \"[data-check='toolbar'] [data-test='check-accept-icon'][data-popover-icon-name='IconCheck']\"","stepMatchArguments":[{"group":{"start":20,"value":"\"[data-check='toolbar'] [data-test='check-accept-icon'][data-popover-icon-name='IconCheck']\"","children":[{"start":21,"value":"[data-check='toolbar'] [data-test='check-accept-icon'][data-popover-icon-name='IconCheck']","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":63,"gherkinStepLine":138,"keywordType":"Action","textWithKeyword":"When I announce: \"Иконка видна с data-loading='false'. SVG доступен для проверки.\"","stepMatchArguments":[{"group":{"start":12,"value":"\"Иконка видна с data-loading='false'. SVG доступен для проверки.\"","children":[{"start":13,"value":"Иконка видна с data-loading='false'. SVG доступен для проверки.","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":64,"gherkinStepLine":141,"keywordType":"Action","textWithKeyword":"When I wait 10 seconds for the element with locator \"[data-check='toolbar'] [data-test='check-accept-icon'][data-popover-icon-name='IconCheck'] svg\" to be visible","stepMatchArguments":[{"group":{"start":7,"value":"10","children":[]},"parameterTypeName":"int"},{"group":{"start":26,"value":"element","children":[]},"parameterTypeName":"role"},{"group":{"start":39,"value":"locator","children":[]},"parameterTypeName":"attribute"},{"group":{"start":47,"value":"\"[data-check='toolbar'] [data-test='check-accept-icon'][data-popover-icon-name='IconCheck'] svg\"","children":[{"start":48,"value":"[data-check='toolbar'] [data-test='check-accept-icon'][data-popover-icon-name='IconCheck'] svg","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":150,"value":"visible","children":[]},"parameterTypeName":"condition"}]},{"pwStepLine":65,"gherkinStepLine":142,"keywordType":"Action","textWithKeyword":"When I announce: \"SVG иконка видна и может быть проверена. Раньше она была скрыта во время загрузки.\"","stepMatchArguments":[{"group":{"start":12,"value":"\"SVG иконка видна и может быть проверена. Раньше она была скрыта во время загрузки.\"","children":[{"start":13,"value":"SVG иконка видна и может быть проверена. Раньше она была скрыта во время загрузки.","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":66,"gherkinStepLine":143,"keywordType":"Action","textWithKeyword":"When I clear highlight","stepMatchArguments":[]},{"pwStepLine":67,"gherkinStepLine":146,"keywordType":"Action","textWithKeyword":"When I highlight element \"[data-check='toolbar']\"","stepMatchArguments":[{"group":{"start":20,"value":"\"[data-check='toolbar']\"","children":[{"start":21,"value":"[data-check='toolbar']","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":68,"gherkinStepLine":147,"keywordType":"Action","textWithKeyword":"When I announce: \"Мы также исправили селектор, добавив область toolbar, чтобы избежать конфликтов с панелью Related Checks.\"","stepMatchArguments":[{"group":{"start":12,"value":"\"Мы также исправили селектор, добавив область toolbar, чтобы избежать конфликтов с панелью Related Checks.\"","children":[{"start":13,"value":"Мы также исправили селектор, добавив область toolbar, чтобы избежать конфликтов с панелью Related Checks.","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":69,"gherkinStepLine":148,"keywordType":"Action","textWithKeyword":"When I clear highlight","stepMatchArguments":[]},{"pwStepLine":70,"gherkinStepLine":151,"keywordType":"Action","textWithKeyword":"When I announce: \"Давайте примем эту проверку и убедимся, что иконка обновляется корректно.\"","stepMatchArguments":[{"group":{"start":12,"value":"\"Давайте примем эту проверку и убедимся, что иконка обновляется корректно.\"","children":[{"start":13,"value":"Давайте примем эту проверку и убедимся, что иконка обновляется корректно.","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":71,"gherkinStepLine":152,"keywordType":"Action","textWithKeyword":"When I accept via http the 1st check with name \"IconCheck\"","stepMatchArguments":[{"group":{"start":22,"value":"1st","children":[]},"parameterTypeName":"ordinal"},{"group":{"start":42,"value":"\"IconCheck\"","children":[{"start":43,"value":"IconCheck","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":72,"gherkinStepLine":153,"keywordType":"Action","textWithKeyword":"When I refresh page","stepMatchArguments":[]},{"pwStepLine":73,"gherkinStepLine":154,"keywordType":"Action","textWithKeyword":"When I wait 10 seconds for the element with locator \"[data-check='toolbar'] [data-test='check-accept-icon'][data-popover-icon-name='IconCheck'][data-loading='false']\" to be visible","stepMatchArguments":[{"group":{"start":7,"value":"10","children":[]},"parameterTypeName":"int"},{"group":{"start":26,"value":"element","children":[]},"parameterTypeName":"role"},{"group":{"start":39,"value":"locator","children":[]},"parameterTypeName":"attribute"},{"group":{"start":47,"value":"\"[data-check='toolbar'] [data-test='check-accept-icon'][data-popover-icon-name='IconCheck'][data-loading='false']\"","children":[{"start":48,"value":"[data-check='toolbar'] [data-test='check-accept-icon'][data-popover-icon-name='IconCheck'][data-loading='false']","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":168,"value":"visible","children":[]},"parameterTypeName":"condition"}]},{"pwStepLine":74,"gherkinStepLine":157,"keywordType":"Action","textWithKeyword":"When I highlight element \"[data-check='toolbar'] [data-test='check-accept-icon'][data-popover-icon-name='IconCheck']\"","stepMatchArguments":[{"group":{"start":20,"value":"\"[data-check='toolbar'] [data-test='check-accept-icon'][data-popover-icon-name='IconCheck']\"","children":[{"start":21,"value":"[data-check='toolbar'] [data-test='check-accept-icon'][data-popover-icon-name='IconCheck']","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":75,"gherkinStepLine":158,"keywordType":"Outcome","textWithKeyword":"Then the element with locator \"[data-check='toolbar'] [data-test='check-accept-icon'][data-popover-icon-name='IconCheck'] svg\" should have has attribute \"data-test-icon-type=fill\"","stepMatchArguments":[{"group":{"start":17,"value":"locator","children":[]},"parameterTypeName":"target"},{"group":{"start":25,"value":"\"[data-check='toolbar'] [data-test='check-accept-icon'][data-popover-icon-name='IconCheck'] svg\"","children":[{"start":26,"value":"[data-check='toolbar'] [data-test='check-accept-icon'][data-popover-icon-name='IconCheck'] svg","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"},{"group":{"start":148,"value":"\"data-test-icon-type=fill\"","children":[{"start":149,"value":"data-test-icon-type=fill","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":76,"gherkinStepLine":159,"keywordType":"Action","textWithKeyword":"When I announce: \"УСПЕХ! Иконка изменилась на заполненную после принятия, и мы можем надёжно это определить.\"","stepMatchArguments":[{"group":{"start":12,"value":"\"УСПЕХ! Иконка изменилась на заполненную после принятия, и мы можем надёжно это определить.\"","children":[{"start":13,"value":"УСПЕХ! Иконка изменилась на заполненную после принятия, и мы можем надёжно это определить.","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":77,"gherkinStepLine":160,"keywordType":"Action","textWithKeyword":"When I clear highlight","stepMatchArguments":[]},{"pwStepLine":78,"gherkinStepLine":163,"keywordType":"Action","textWithKeyword":"When I announce: \"Демонстрация завершена! Иконка Accept теперь корректно показывает своё состояние загрузки для надёжного тестирования.\"","stepMatchArguments":[{"group":{"start":12,"value":"\"Демонстрация завершена! Иконка Accept теперь корректно показывает своё состояние загрузки для надёжного тестирования.\"","children":[{"start":13,"value":"Демонстрация завершена! Иконка Accept теперь корректно показывает своё состояние загрузки для надёжного тестирования.","children":[{"children":[]}]},{"children":[{"children":[]}]}]},"parameterTypeName":"string"}]},{"pwStepLine":79,"gherkinStepLine":164,"keywordType":"Action","textWithKeyword":"When I end the demo","stepMatchArguments":[]}]},
]; // bdd-data-end